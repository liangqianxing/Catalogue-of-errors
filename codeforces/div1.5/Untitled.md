# C. Lexicographically Largest

Stack 有一个长度为 $n$ 的数组 $a$ 。他还有一个空集 $S$ 。请注意， $S$ **不是** 多重集。

他将执行以下三步操作正好 $n$ 次：

1. 选择索引 $i$ ，使得 $1 \leq i \leq |a|$ 。
2. 将 $^\dagger$ $a _i+ i$ 插入 $S$ 。
3. 从 $a$ 中删除 $a_i$ 。请注意， $a _i$ 右侧的所有元素的索引都会减少 $1$ 。

请注意， $n$ 操作后， $a$ 将为空。

Stack 现在将构造一个新数组 $b$ ，该数组为 $S$ **按降序排序**。形式上， $b$ 是大小为 $|S|$ 的数组，其中 $b _i$ 是所有 $1 \leq i \leq |S|$ 中 $S$ 的第 $i$ 个最大元素。

求 Stack 可以生成的按字典顺序排列的最大 $^\ddagger$ $b$ 。

$^\dagger$ 集合只能包含唯一元素。 **插入集合中已存在的元素不会更改集合的元素。**

$^\ddagger$ 当且仅当满足以下条件之一时，数组 $p$ 按字典顺序大于序列 $q$ ：

- $q$ 是 $p$ 的前缀，但是 $p \ne q$ ；或者
- 在 $p$ 和 $q$ 不同的第一个位置，数组 $p$ 的元素比 $q$ 中的相应元素大。

请注意，按字典顺序， $[3,1,4,1,5]$ 大于 $[3,1,3]$ 、 $[]$ 和 $[3,1,4,1]$ ，但小于 $[3,1,4,1,5,9]$ 、 $[3,1,4,1,5]$ 和 $[4]$ 。

****

每个数都可以被动的到左边的位置去

一个数能在的位置的限制是$[1,i]$

对于$i∈[1,n],j∈[1,i)$ 当

# D1. Sum over all Substrings (Easy Version)

**这是问题的简单版本。这两个版本之间的唯一区别是对 $t$ 和 $n$ 的约束。只有解决了两个版本的问题后，您才能进行黑客攻击。**

对于二进制 $^\dagger$ 模式 $p$ 和二进制字符串 $q$ ，长度均为 $m$ ， $q$ 称为 $p$ \-好

如果

对于每个 $i$ （ $1 \leq i \leq m$ ），存在索引 $l$ 和 $r$ 使得：

- $1 \leq l \leq i \leq r \leq m$ ，以及
- $p_i$ 是字符串 $q_l q_{l+1} \ldots q_{r}$ 的模式 $^\ddagger$ 。

对于模式 $p$ ，令 $f(p)$ 为 $p$ \-good 二进制字符串（与模式长度相同）中 $\mathtt{1}$ 的最小可能数量。

您将获得一个大小为 $n$ 的二进制字符串 $s$ 。寻找

$$
\sum_{i=1}^{n} \sum_{j=i}^{n} f(s_i s_{i+1} \ldots s_j).
$$
 换句话说，您需要对 $s$ 的所有 $\frac{n(n+1)}{2}$ 子字符串求和 $f$ 的值。

$^\dagger$ 二进制模式是仅包含字符 $\mathtt{0}$ 和 $\mathtt{1}$ 的字符串。

$^\ddagger$ 如果 $t$ 中 $c$ 的出现次数至少为 $\lceil \frac{m}{2} \rceil$ ，则字符 $c$ 是长度为 $m$ 的字符串 $t$ 的众数。例如， $\mathtt{0}$ 是 $\mathtt{010}$ 的众数， $\mathtt{1}$ 不是 $\mathtt{010}$ 的众数，而 $\mathtt{0}$ 和 $\mathtt{1}$ 都是 $\mathtt{011010}$ 的众数。